// Language translations
const translations = {
  es: {
    nav_home: "Inicio",
    nav_about: "Sobre mí",
    nav_projects: "Proyectos",
    nav_certifications: "Certificaciones",
    nav_education: "Educación",
    nav_contact: "Contacto",
    hero_greeting: "Hola, soy",
    hero_subtitle: "Estudiante de ingeniería en TI y hacker ético",
    about_title: "Sobre mí",
    about_description: "Hacker ético especializado en pruebas de penetración y jugador de CTF.",
    about_skill1: "- Pruebas de Penetración",
    about_skill2: "- Seguridad de aplicaciones web",
    about_skill3: "- Excelente manejo de sistemas Linux",
    about_skill4: "- Scripting en Bash y Python",
    projects_title: "Proyectos",
    project1_desc: "Herramienta hecha en Bash para calcular información de red basada en notación CIDR.",
    project2_desc:
      "Herramienta diseñada para probar la seguridad de una red Wi-Fi realizando ataques de desautenticación.",
    project3_desc: "Herramienta que genera contraseñas usando las librerías string y random",
    view_project: "Ver Proyecto →",
    cert_title: "Certificaciones",
    cert1_title: "Personalización del entorno Linux",
    cert1_desc:
      "Conocimientos adquiridos para personalizar un sistema Linux desde cero y convertirlo en un entorno de trabajo profesional para pentesting.",
    cert2_title: "Introducción a Linux",
    cert2_desc:
      "Conocimientos adquiridos desde nivel principiante hasta intermedio-avanzado para poder trabajar en un sistema Linux.",
    cert3_title: "Introducción al hacking",
    cert3_desc:
      "Curso de más de 53 horas, habiendo superado las pruebas y adquirido los conocimientos necesarios para poder realizar enumeración, identificación y explotación de sistemas vulnerables.",
    cert4_title: "Pendiente...",
    cert4_desc: "Próximamente.",
    verify_cert: "Verificar Certificado",
    education_title: "Educación",
    edu_degree: "Ingeniería en Tecnologías de la Información e Innovación Digital",
    edu_university: "Universidad Politécnica de Sinaloa | 2024 - 2027",
    edu_specialization: "Especialización en Ciberseguridad",
    edu_achievements: "Logros Clave:",
    edu_achievement1: "• Completé el path de Web Penetration Tester de HTB Academy",
    edu_achievement2: "• Competidor activo de CTF",
    edu_achievement3: "• Contribuidor de herramientas de seguridad de código abierto",
    contact_title: "Contacto",
    contact_methods: "Métodos de contacto disponibles:",
    cv_title: "Descargar CV",
    cv_description: "Obtén mi currículum completo con toda mi experiencia y habilidades",
    cv_button: "Descargar PDF",
  },
  en: {
    nav_home: "Home",
    nav_about: "About",
    nav_projects: "Projects",
    nav_certifications: "Certifications",
    nav_education: "Education",
    nav_contact: "Contact",
    hero_greeting: "Hi, I'm",
    hero_subtitle: "IT engineering student & ethical hacker",
    about_title: "About Me",
    about_description: "Ethical hacker specializing in penetration testing and CTF player.",
    about_skill1: "- Penetration Testing",
    about_skill2: "- Web application security",
    about_skill3: "- Excellent handling of Linux systems",
    about_skill4: "- Scripting in Bash and Python",
    projects_title: "Projects",
    project1_desc: "Tool made in Bash to calculate network information based on CIDR notation.",
    project2_desc: "Tool designed to test the security of a Wi-Fi network by performing deauthentication attacks.",
    project3_desc: "Tool that generates passwords using string and random libraries",
    view_project: "View Project →",
    cert_title: "Certifications",
    cert1_title: "Linux environment customization",
    cert1_desc:
      "Knowledge acquired to customize a Linux system from scratch and convert it into a professional working environment for pentesting.",
    cert2_title: "Introduction to Linux",
    cert2_desc: "Knowledge acquired from beginner to intermediate-advanced level to be able to work on a Linux system.",
    cert3_title: "Introduction to hacking",
    cert3_desc:
      "Course lasting more than 53 hours, having passed the tests and acquired the necessary knowledge to be able to carry out enumeration, identification, and exploitation of vulnerable systems.",
    cert4_title: "Pending...",
    cert4_desc: "Coming soon.",
    verify_cert: "Verify Certificate",
    education_title: "Education",
    edu_degree: "Engineering in Information Technology and Digital Innovation",
    edu_university: "Universidad Politécnica de Sinaloa | 2024 - 2027",
    edu_specialization: "Cybersecurity Specialization",
    edu_achievements: "Key Achievements:",
    edu_achievement1: "• Completed the Web Penetration Tester path from HTB Academy",
    edu_achievement2: "• Active CTF competitor",
    edu_achievement3: "• Open-source security tools contributor",
    contact_title: "Contact",
    contact_methods: "Available contact methods:",
    cv_title: "Download CV",
    cv_description: "Get my complete resume with all my experience and skills",
    cv_button: "Download PDF",
  },
  de: {
    nav_home: "Startseite",
    nav_about: "Über mich",
    nav_projects: "Projekte",
    nav_certifications: "Zertifizierungen",
    nav_education: "Bildung",
    nav_contact: "Kontakt",
    hero_greeting: "Hallo, ich bin",
    hero_subtitle: "IT-Ingenieurstudent und ethischer Hacker",
    about_title: "Über mich",
    about_description: "Ethischer Hacker, spezialisiert auf Penetrationstests und CTF-Spieler.",
    about_skill1: "- Penetrationstests",
    about_skill2: "- Webanwendungssicherheit",
    about_skill3: "- Ausgezeichnete Handhabung von Linux-Systemen",
    about_skill4: "- Skripting in Bash und Python",
    projects_title: "Projekte",
    project1_desc: "In Bash erstelltes Tool zur Berechnung von Netzwerkinformationen basierend auf CIDR-Notation.",
    project2_desc:
      "Tool zur Überprüfung der Sicherheit eines Wi-Fi-Netzwerks durch Durchführung von Deauthentifizierungsangriffen.",
    project3_desc: "Tool, das Passwörter mit String- und Random-Bibliotheken generiert",
    view_project: "Projekt ansehen →",
    cert_title: "Zertifizierungen",
    cert1_title: "Linux-Umgebungsanpassung",
    cert1_desc:
      "Erworbene Kenntnisse zur Anpassung eines Linux-Systems von Grund auf und zur Umwandlung in eine professionelle Arbeitsumgebung für Pentesting.",
    cert2_title: "Einführung in Linux",
    cert2_desc:
      "Erworbene Kenntnisse vom Anfänger- bis zum mittleren bis fortgeschrittenen Niveau, um auf einem Linux-System arbeiten zu können.",
    cert3_title: "Einführung ins Hacking",
    cert3_desc:
      "Kurs von mehr als 53 Stunden, bei dem die Tests bestanden und die notwendigen Kenntnisse erworben wurden, um Aufzählung, Identifizierung und Ausnutzung anfälliger Systeme durchführen zu können.",
    cert4_title: "Ausstehend...",
    cert4_desc: "Demnächst verfügbar.",
    verify_cert: "Zertifikat überprüfen",
    education_title: "Bildung",
    edu_degree: "Ingenieurwesen in Informationstechnologie und digitaler Innovation",
    edu_university: "Universidad Politécnica de Sinaloa | 2024 - 2027",
    edu_specialization: "Cybersicherheitsspezialisierung",
    edu_achievements: "Wichtige Erfolge:",
    edu_achievement1: "• Abschluss des Web Penetration Tester-Pfads der HTB Academy",
    edu_achievement2: "• Aktiver CTF-Wettbewerber",
    edu_achievement3: "• Mitwirkender an Open-Source-Sicherheitstools",
    contact_title: "Kontakt",
    contact_methods: "Verfügbare Kontaktmethoden:",
    cv_title: "Lebenslauf herunterladen",
    cv_description: "Holen Sie sich meinen vollständigen Lebenslauf mit all meiner Erfahrung und meinen Fähigkeiten",
    cv_button: "PDF herunterladen",
  },
}

// Get current language from localStorage or default to Spanish
let currentLang = localStorage.getItem("language") || "es"

// Function to change language
function changeLanguage(lang) {
  currentLang = lang
  localStorage.setItem("language", lang)

  // Update all elements with data-translate attribute
  document.querySelectorAll("[data-translate]").forEach((element) => {
    const key = element.getAttribute("data-translate")
    if (translations[lang] && translations[lang][key]) {
      element.textContent = translations[lang][key]
    }
  })

  // Update active button
  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.classList.remove("active")
    if (btn.getAttribute("data-lang") === lang) {
      btn.classList.add("active")
    }
  })

  // Update html lang attribute
  document.documentElement.lang = lang
}

// Initialize language on page load
document.addEventListener("DOMContentLoaded", () => {
  changeLanguage(currentLang)

  // Add click event listeners to language buttons
  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.addEventListener("click", () => {
      const lang = btn.getAttribute("data-lang")
      changeLanguage(lang)
    })
  })

  // Smooth scroll with offset for fixed header
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault()
      const targetId = this.getAttribute("href")
      if (targetId === "#") return

      const targetElement = document.querySelector(targetId)
      if (targetElement) {
        const headerOffset = 80
        const elementPosition = targetElement.getBoundingClientRect().top
        const offsetPosition = elementPosition + window.pageYOffset - headerOffset

        window.scrollTo({
          top: offsetPosition,
          behavior: "smooth",
        })
      }
    })
  })

  const hamburger = document.querySelector(".hamburger")
  const mobileMenu = document.querySelector(".mobile-menu")
  const body = document.body

  if (hamburger && mobileMenu) {
    hamburger.addEventListener("click", () => {
      hamburger.classList.toggle("active")
      mobileMenu.classList.toggle("active")
      body.classList.toggle("menu-open")
    })

    // Close mobile menu when clicking on a link
    document.querySelectorAll(".mobile-link").forEach((link) => {
      link.addEventListener("click", () => {
        hamburger.classList.remove("active")
        mobileMenu.classList.remove("active")
        body.classList.remove("menu-open")
      })
    })

    // Close mobile menu when clicking outside
    document.addEventListener("click", (e) => {
      if (!hamburger.contains(e.target) && !mobileMenu.contains(e.target)) {
        hamburger.classList.remove("active")
        mobileMenu.classList.remove("active")
        body.classList.remove("menu-open")
      }
    })
  }
})
